// import { interpolateHsl, color } from 'd3';
import type { ColorScale, ColorScales, Interpolator, Variable } from '../types';
import { interpolate2DHermite, interpolateLinear, noInterpolation } from './interpolations';

const OPACITY = 75;

export const getColor = (colorScale: ColorScale, px: number): number[] => {
	return colorScale.colors[
		Math.min(
			colorScale.colors.length - 1,
			Math.max(0, Math.floor((px - colorScale.min) * colorScale.scalefactor))
		)
	];
};

export const getOpacity = (
	v: string,
	px: number,
	dark: boolean,
	colorScale: ColorScale
): number => {
	if (colorScale.opacity) {
		return 255 * (colorScale.opacity / 100);
	} else if (v == 'cloud_cover' || v == 'thunderstorm_probability') {
		// scale opacity with percentage
		return 255 * (px ** 1.5 / 1000) * (OPACITY / 100);
	} else if (v.startsWith('cloud_base')) {
		// scale cloud base to 20900m
		return Math.min(1 - px / 20900, 1) * 255 * (OPACITY / 100);
	} else if (v.startsWith('precipitation')) {
		// scale opacity with precip values below 1.5mm
		return Math.min(px / 1.5, 1) * 255 * (OPACITY / 100);
	} else if (v.startsWith('wind')) {
		// scale opacity with wind values below 10kmh
		if (px < 10) {
			return Math.min(Math.pow(px - 2, 3) / 1000, 1) * 255 * (OPACITY / 100);
		} else {
			return 255 * (OPACITY / 100);
		}
	} else {
		// else set the opacity with env variable and deduct 20% for darkmode
		return 255 * (dark ? OPACITY / 100 - 0.2 : OPACITY / 100);
	}
};

export const getColorScale = (variable: Variable['value']) => {
	return (
		colorScales[variable] ??
		colorScales[variable.split('_')[0]] ??
		colorScales[variable.split('_')[0] + '_' + variable.split('_')[1]] ??
		colorScales['temperature']
	);
};

export const getInterpolator = (colorScale: ColorScale): Interpolator => {
	if (!colorScale.interpolationMethod || colorScale.interpolationMethod === 'none') {
		return noInterpolation;
	} else if (colorScale.interpolationMethod === 'linear') {
		return interpolateLinear;
	} else if (colorScale.interpolationMethod === 'hermite2d') {
		return interpolate2DHermite;
	} else {
		// default is linear
		return interpolateLinear;
	}
};

// function interpolateColorScaleHSL(colors: Array<string>, steps: number) {
// 	const segments = colors.length - 1;
// 	const stepsPerSegment = Math.floor(steps / segments);
// 	const remainder = steps % segments;

// 	const rgbArray: number[][] = [];

// 	for (let i = 0; i < segments; i++) {
// 		const startColor = colors[i];
// 		const endColor = colors[i + 1];
// 		const interpolate = interpolateHsl(startColor, endColor);

// 		const numSteps = stepsPerSegment + (i < remainder ? 1 : 0);

// 		for (let j = 0; j < numSteps; j++) {
// 			const t = j / (numSteps - 1); // range [0, 1]
// 			let c = color(interpolate(t));
// 			if (c) {
// 				c = c.rgb();
// 				rgbArray.push([c.r, c.g, c.b]);
// 			}
// 		}
// 	}

// 	return rgbArray;
// }

// const precipScale: ColorScale = {
// 	min: 0,
// 	max: 20,
// 	scalefactor: 1,
// 	colors: [
// 		...interpolateColorScaleHSL(['blue', 'green'], 5), // 0 to 5mm
// 		...interpolateColorScaleHSL(['green', 'orange'], 5), // 5 to 10mm
// 		...interpolateColorScaleHSL(['orange', 'red'], 10) // 10 to 20mm
// 	],
// 	interpolationMethod: 'linear',
// 	unit: 'mm'
// };

// const convectiveCloudScale: ColorScale = {
// 	min: 0,
// 	max: 6000,
// 	scalefactor: 1,
// 	colors: [
// 		...interpolateColorScaleHSL(['#c0392b', '#d35400', '#f1c40f', '#16a085', '#2980b9'], 6000)
// 	],
// 	interpolationMethod: 'none',
// 	unit: 'm'
// };

// export const colorScales: ColorScales = {
// 	cape: {
// 		min: 0,
// 		max: 4000,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(
// 				['#009392', '#39b185', '#9ccb86', '#e9e29c', '#eeb479', '#e88471', '#cf597e'],
// 				4000
// 			)
// 		],
// 		interpolationMethod: 'linear',
// 		unit: ''
// 	},
// 	cloud_base: {
// 		min: 0,
// 		max: 20900,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(['#FFF', '#c3c2c2'], 20900) // 0 to 20900m
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'm'
// 	},
// 	cloud_cover: {
// 		min: 0,
// 		max: 100,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(['#FFF', '#c3c2c2'], 100) // 0 to 100%
// 		],
// 		interpolationMethod: 'linear',
// 		unit: '%'
// 	},
// 	convective_cloud_top: convectiveCloudScale,
// 	convective_cloud_base: convectiveCloudScale,
// 	precipitation: precipScale,
// 	pressure: {
// 		min: 950,
// 		max: 1050,
// 		scalefactor: 0.5,
// 		colors: [
// 			...interpolateColorScaleHSL(['#4444FF', '#FFFFFF'], 25), // 950 to 1000hPa
// 			...interpolateColorScaleHSL(['#FFFFFF', '#FF4444'], 25) // 1000hPa to 1050hPa
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'hPa'
// 	},
// 	rain: precipScale,
// 	relative: {
// 		min: 0,
// 		max: 100,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(
// 				['#009392', '#39b185', '#9ccb86', '#e9e29c', '#eeb479', '#e88471', '#cf597e'].reverse(),
// 				100
// 			)
// 		],
// 		interpolationMethod: 'linear',
// 		unit: '%'
// 	},
// 	shortwave: {
// 		min: 0,
// 		max: 1000,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(
// 				['#009392', '#39b185', '#9ccb86', '#e9e29c', '#eeb479', '#e88471', '#cf597e'],
// 				1000
// 			)
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'W/m^2'
// 	},
// 	temperature: {
// 		min: -40,
// 		max: 60,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(['purple', 'blue'], 40), // -40°C to 0°C
// 			...interpolateColorScaleHSL(['blue', 'green'], 16), // 0°Cto 16°C
// 			...interpolateColorScaleHSL(['green', 'orange'], 12), // 0°C to 28°C
// 			...interpolateColorScaleHSL(['orange', 'red'], 14), // 28°C to 42°C
// 			...interpolateColorScaleHSL(['red', 'purple'], 18) // 42°C to 60°C
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'C°'
// 	},
// 	thunderstorm: {
// 		min: 0,
// 		max: 100,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(['blue', 'green'], 33), //
// 			...interpolateColorScaleHSL(['green', 'orange'], 33), //
// 			...interpolateColorScaleHSL(['orange', 'red'], 34) //
// 		],
// 		interpolationMethod: 'linear',
// 		unit: '%'
// 	},
// 	swell: {
// 		min: 0,
// 		max: 10,
// 		scalefactor: 5,
// 		colors: [
// 			...interpolateColorScaleHSL(['blue', 'green'], 10), // 0 to 2m
// 			...interpolateColorScaleHSL(['green', 'orange'], 20), // 2 to 6m
// 			...interpolateColorScaleHSL(['orange', 'red'], 20) // 6 to 10m
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'm'
// 	},
// 	uv: {
// 		min: 0,
// 		max: 12,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(
// 				['#009392', '#39b185', '#9ccb86', '#e9e29c', '#eeb479', '#e88471', '#cf597e'],
// 				12
// 			)
// 		],
// 		interpolationMethod: 'linear',
// 		unit: ''
// 	},
// 	wave: {
// 		min: 0,
// 		max: 10,
// 		scalefactor: 5,
// 		colors: [
// 			...interpolateColorScaleHSL(['blue', 'green'], 10), // 0 to 2m
// 			...interpolateColorScaleHSL(['green', 'orange'], 20), // 2 to 6m
// 			...interpolateColorScaleHSL(['orange', 'red'], 20) // 6 to 10m
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'm'
// 	},
// 	wind: {
// 		min: 0,
// 		max: 40,
// 		scalefactor: 1,
// 		colors: [
// 			...interpolateColorScaleHSL(['blue', 'green'], 10), // 0 to 10kn
// 			...interpolateColorScaleHSL(['green', 'orange'], 10), // 10 to 20kn
// 			...interpolateColorScaleHSL(['orange', 'red'], 20) // 20 to 40kn
// 		],
// 		interpolationMethod: 'linear',
// 		unit: 'm/s'
// 	}
// };
//
export const colorScales: ColorScales = {
	cape: {
		min: 0,
		max: 4000,
		steps: 100,
		scalefactor: 0.025,
		colors: [
			[0, 147, 146],
			[2, 150, 146],
			[5, 153, 145],
			[7, 156, 145],
			[10, 158, 144],
			[13, 161, 143],
			[16, 163, 142],
			[20, 165, 141],
			[23, 167, 140],
			[27, 169, 139],
			[31, 171, 138],
			[35, 172, 137],
			[39, 173, 136],
			[43, 175, 135],
			[48, 176, 134],
			[52, 176, 134],
			[57, 177, 133],
			[57, 177, 133],
			[59, 181, 129],
			[62, 185, 125],
			[64, 189, 121],
			[69, 190, 117],
			[75, 191, 114],
			[81, 192, 111],
			[86, 193, 109],
			[92, 194, 108],
			[97, 195, 107],
			[102, 196, 106],
			[110, 197, 108],
			[120, 198, 113],
			[130, 199, 118],
			[139, 200, 124],
			[148, 202, 129],
			[156, 203, 134],
			[156, 203, 134],
			[161, 205, 135],
			[166, 207, 136],
			[171, 210, 137],
			[176, 212, 138],
			[181, 214, 140],
			[186, 216, 141],
			[192, 218, 142],
			[197, 220, 143],
			[202, 221, 145],
			[208, 223, 146],
			[213, 225, 148],
			[219, 227, 149],
			[224, 228, 151],
			[229, 230, 153],
			[231, 228, 154],
			[233, 226, 156],
			[233, 226, 156],
			[233, 224, 154],
			[233, 222, 152],
			[234, 220, 150],
			[234, 217, 148],
			[234, 215, 146],
			[234, 212, 143],
			[235, 210, 141],
			[235, 207, 139],
			[235, 204, 137],
			[236, 201, 135],
			[236, 198, 132],
			[236, 194, 130],
			[237, 191, 128],
			[237, 187, 126],
			[238, 184, 123],
			[238, 180, 121],
			[238, 180, 121],
			[238, 177, 120],
			[237, 174, 120],
			[237, 171, 119],
			[236, 167, 119],
			[236, 164, 118],
			[236, 161, 118],
			[235, 158, 117],
			[235, 155, 117],
			[234, 151, 116],
			[234, 148, 116],
			[234, 145, 115],
			[233, 142, 115],
			[233, 138, 114],
			[232, 135, 114],
			[232, 132, 113],
			[232, 132, 113],
			[231, 126, 111],
			[229, 121, 109],
			[228, 115, 108],
			[226, 110, 106],
			[225, 104, 104],
			[223, 102, 106],
			[221, 101, 108],
			[220, 99, 110],
			[218, 98, 113],
			[216, 96, 115],
			[214, 95, 117],
			[213, 93, 119],
			[211, 92, 122],
			[209, 90, 124],
			[207, 89, 126]
		],
		interpolationMethod: 'linear',
		unit: ''
	},
	cloud_base: {
		min: 0,
		max: 20900,
		steps: 100,
		scalefactor: 0.004784688995215311,
		colors: [
			[255, 255, 255],
			[254, 254, 254],
			[254, 254, 254],
			[253, 253, 253],
			[253, 253, 253],
			[252, 252, 252],
			[251, 251, 251],
			[251, 251, 251],
			[250, 250, 250],
			[250, 249, 249],
			[249, 249, 249],
			[248, 248, 248],
			[248, 248, 248],
			[247, 247, 247],
			[247, 246, 246],
			[246, 246, 246],
			[245, 245, 245],
			[245, 245, 245],
			[244, 244, 244],
			[243, 243, 243],
			[243, 243, 243],
			[242, 242, 242],
			[242, 241, 241],
			[241, 241, 241],
			[240, 240, 240],
			[240, 240, 240],
			[239, 239, 239],
			[239, 238, 238],
			[238, 238, 238],
			[237, 237, 237],
			[237, 237, 237],
			[236, 236, 236],
			[236, 235, 235],
			[235, 235, 235],
			[234, 234, 234],
			[234, 233, 233],
			[233, 233, 233],
			[233, 232, 232],
			[232, 232, 232],
			[231, 231, 231],
			[231, 230, 230],
			[230, 230, 230],
			[230, 229, 229],
			[229, 229, 229],
			[228, 228, 228],
			[228, 227, 227],
			[227, 227, 227],
			[227, 226, 226],
			[226, 225, 225],
			[225, 225, 225],
			[225, 224, 224],
			[224, 224, 224],
			[223, 223, 223],
			[223, 222, 222],
			[222, 222, 222],
			[222, 221, 221],
			[221, 220, 220],
			[220, 220, 220],
			[220, 219, 219],
			[219, 219, 219],
			[219, 218, 218],
			[218, 217, 217],
			[217, 217, 217],
			[217, 216, 216],
			[216, 216, 216],
			[216, 215, 215],
			[215, 214, 214],
			[214, 214, 214],
			[214, 213, 213],
			[213, 212, 212],
			[213, 212, 212],
			[212, 211, 211],
			[211, 211, 211],
			[211, 210, 210],
			[210, 209, 209],
			[210, 209, 209],
			[209, 208, 208],
			[208, 208, 208],
			[208, 207, 207],
			[207, 206, 206],
			[207, 206, 206],
			[206, 205, 205],
			[205, 204, 204],
			[205, 204, 204],
			[204, 203, 203],
			[203, 203, 203],
			[203, 202, 202],
			[202, 201, 201],
			[202, 201, 201],
			[201, 200, 200],
			[200, 200, 200],
			[200, 199, 199],
			[199, 198, 198],
			[199, 198, 198],
			[198, 197, 197],
			[197, 196, 196],
			[197, 196, 196],
			[196, 195, 195],
			[196, 195, 195],
			[195, 194, 194]
		],
		interpolationMethod: 'linear',
		unit: 'm'
	},
	cloud_cover: {
		min: 0,
		max: 100,
		steps: 100,
		scalefactor: 1,
		colors: [
			[255, 255, 255],
			[254, 254, 254],
			[254, 254, 254],
			[253, 253, 253],
			[253, 253, 253],
			[252, 252, 252],
			[251, 251, 251],
			[251, 251, 251],
			[250, 250, 250],
			[250, 249, 249],
			[249, 249, 249],
			[248, 248, 248],
			[248, 248, 248],
			[247, 247, 247],
			[247, 246, 246],
			[246, 246, 246],
			[245, 245, 245],
			[245, 245, 245],
			[244, 244, 244],
			[243, 243, 243],
			[243, 243, 243],
			[242, 242, 242],
			[242, 241, 241],
			[241, 241, 241],
			[240, 240, 240],
			[240, 240, 240],
			[239, 239, 239],
			[239, 238, 238],
			[238, 238, 238],
			[237, 237, 237],
			[237, 237, 237],
			[236, 236, 236],
			[236, 235, 235],
			[235, 235, 235],
			[234, 234, 234],
			[234, 233, 233],
			[233, 233, 233],
			[233, 232, 232],
			[232, 232, 232],
			[231, 231, 231],
			[231, 230, 230],
			[230, 230, 230],
			[230, 229, 229],
			[229, 229, 229],
			[228, 228, 228],
			[228, 227, 227],
			[227, 227, 227],
			[227, 226, 226],
			[226, 225, 225],
			[225, 225, 225],
			[225, 224, 224],
			[224, 224, 224],
			[223, 223, 223],
			[223, 222, 222],
			[222, 222, 222],
			[222, 221, 221],
			[221, 220, 220],
			[220, 220, 220],
			[220, 219, 219],
			[219, 219, 219],
			[219, 218, 218],
			[218, 217, 217],
			[217, 217, 217],
			[217, 216, 216],
			[216, 216, 216],
			[216, 215, 215],
			[215, 214, 214],
			[214, 214, 214],
			[214, 213, 213],
			[213, 212, 212],
			[213, 212, 212],
			[212, 211, 211],
			[211, 211, 211],
			[211, 210, 210],
			[210, 209, 209],
			[210, 209, 209],
			[209, 208, 208],
			[208, 208, 208],
			[208, 207, 207],
			[207, 206, 206],
			[207, 206, 206],
			[206, 205, 205],
			[205, 204, 204],
			[205, 204, 204],
			[204, 203, 203],
			[203, 203, 203],
			[203, 202, 202],
			[202, 201, 201],
			[202, 201, 201],
			[201, 200, 200],
			[200, 200, 200],
			[200, 199, 199],
			[199, 198, 198],
			[199, 198, 198],
			[198, 197, 197],
			[197, 196, 196],
			[197, 196, 196],
			[196, 195, 195],
			[196, 195, 195],
			[195, 194, 194]
		],
		interpolationMethod: 'linear',
		unit: '%'
	},
	convective_cloud_top: {
		min: 0,
		max: 6000,
		steps: 100,
		scalefactor: 0.016666666666666666,
		colors: [
			[192, 57, 43],
			[193, 57, 41],
			[194, 58, 39],
			[195, 58, 37],
			[196, 58, 35],
			[197, 59, 33],
			[198, 60, 31],
			[198, 60, 30],
			[199, 61, 28],
			[200, 62, 26],
			[201, 63, 24],
			[202, 64, 22],
			[203, 65, 20],
			[203, 66, 19],
			[204, 68, 17],
			[205, 69, 15],
			[206, 70, 13],
			[206, 72, 12],
			[207, 73, 10],
			[208, 75, 8],
			[208, 77, 7],
			[209, 78, 5],
			[210, 80, 3],
			[210, 82, 2],
			[211, 84, 0],
			[211, 84, 0],
			[212, 88, 0],
			[214, 93, 1],
			[215, 97, 1],
			[216, 102, 2],
			[218, 106, 3],
			[219, 111, 3],
			[221, 115, 4],
			[222, 120, 4],
			[223, 125, 5],
			[224, 129, 5],
			[226, 134, 6],
			[227, 139, 6],
			[228, 143, 7],
			[230, 148, 8],
			[231, 153, 8],
			[232, 158, 9],
			[233, 163, 9],
			[235, 167, 10],
			[236, 172, 11],
			[237, 177, 11],
			[238, 182, 12],
			[240, 187, 13],
			[241, 192, 13],
			[241, 196, 15],
			[241, 196, 15],
			[238, 212, 15],
			[235, 228, 15],
			[220, 231, 16],
			[199, 228, 16],
			[179, 224, 17],
			[159, 221, 17],
			[140, 217, 17],
			[122, 214, 18],
			[104, 210, 18],
			[87, 207, 19],
			[71, 203, 19],
			[55, 200, 19],
			[40, 196, 20],
			[25, 193, 20],
			[20, 190, 29],
			[20, 186, 43],
			[21, 183, 56],
			[21, 180, 69],
			[21, 176, 81],
			[21, 173, 93],
			[22, 170, 104],
			[22, 166, 114],
			[22, 163, 124],
			[22, 160, 133],
			[22, 160, 133],
			[23, 161, 137],
			[23, 162, 142],
			[24, 163, 146],
			[25, 165, 151],
			[26, 166, 155],
			[26, 167, 160],
			[27, 168, 165],
			[28, 169, 169],
			[29, 166, 170],
			[29, 164, 171],
			[30, 161, 172],
			[31, 159, 173],
			[32, 156, 174],
			[32, 154, 175],
			[33, 151, 176],
			[34, 149, 177],
			[35, 146, 178],
			[36, 144, 179],
			[37, 141, 180],
			[37, 138, 181],
			[38, 136, 182],
			[39, 133, 183],
			[40, 131, 184],
			[41, 128, 185]
		],
		interpolationMethod: 'none',
		unit: 'm'
	},
	convective_cloud_base: {
		min: 0,
		max: 6000,
		steps: 100,
		scalefactor: 0.016666666666666666,
		colors: [
			[192, 57, 43],
			[193, 57, 41],
			[194, 58, 39],
			[195, 58, 37],
			[196, 58, 35],
			[197, 59, 33],
			[198, 60, 31],
			[198, 60, 30],
			[199, 61, 28],
			[200, 62, 26],
			[201, 63, 24],
			[202, 64, 22],
			[203, 65, 20],
			[203, 66, 19],
			[204, 68, 17],
			[205, 69, 15],
			[206, 70, 13],
			[206, 72, 12],
			[207, 73, 10],
			[208, 75, 8],
			[208, 77, 7],
			[209, 78, 5],
			[210, 80, 3],
			[210, 82, 2],
			[211, 84, 0],
			[211, 84, 0],
			[212, 88, 0],
			[214, 93, 1],
			[215, 97, 1],
			[216, 102, 2],
			[218, 106, 3],
			[219, 111, 3],
			[221, 115, 4],
			[222, 120, 4],
			[223, 125, 5],
			[224, 129, 5],
			[226, 134, 6],
			[227, 139, 6],
			[228, 143, 7],
			[230, 148, 8],
			[231, 153, 8],
			[232, 158, 9],
			[233, 163, 9],
			[235, 167, 10],
			[236, 172, 11],
			[237, 177, 11],
			[238, 182, 12],
			[240, 187, 13],
			[241, 192, 13],
			[241, 196, 15],
			[241, 196, 15],
			[238, 212, 15],
			[235, 228, 15],
			[220, 231, 16],
			[199, 228, 16],
			[179, 224, 17],
			[159, 221, 17],
			[140, 217, 17],
			[122, 214, 18],
			[104, 210, 18],
			[87, 207, 19],
			[71, 203, 19],
			[55, 200, 19],
			[40, 196, 20],
			[25, 193, 20],
			[20, 190, 29],
			[20, 186, 43],
			[21, 183, 56],
			[21, 180, 69],
			[21, 176, 81],
			[21, 173, 93],
			[22, 170, 104],
			[22, 166, 114],
			[22, 163, 124],
			[22, 160, 133],
			[22, 160, 133],
			[23, 161, 137],
			[23, 162, 142],
			[24, 163, 146],
			[25, 165, 151],
			[26, 166, 155],
			[26, 167, 160],
			[27, 168, 165],
			[28, 169, 169],
			[29, 166, 170],
			[29, 164, 171],
			[30, 161, 172],
			[31, 159, 173],
			[32, 156, 174],
			[32, 154, 175],
			[33, 151, 176],
			[34, 149, 177],
			[35, 146, 178],
			[36, 144, 179],
			[37, 141, 180],
			[37, 138, 181],
			[38, 136, 182],
			[39, 133, 183],
			[40, 131, 184],
			[41, 128, 185]
		],
		interpolationMethod: 'none',
		unit: 'm'
	},
	precipitation: {
		min: 0,
		max: 20,
		steps: 20,
		scalefactor: 1,
		colors: [
			[0, 0, 255],
			[0, 112, 223],
			[0, 192, 192],
			[0, 160, 80],
			[0, 128, 0],
			[0, 128, 0],
			[54, 160, 0],
			[130, 192, 0],
			[223, 220, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 147, 0],
			[255, 128, 0],
			[255, 110, 0],
			[255, 92, 0],
			[255, 73, 0],
			[255, 55, 0],
			[255, 37, 0],
			[255, 18, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: 'mm'
	},
	pressure: {
		min: 950,
		max: 1050,
		steps: 50,
		scalefactor: 0.5,
		colors: [
			[68, 68, 255],
			[76, 76, 255],
			[84, 84, 255],
			[91, 91, 255],
			[99, 99, 255],
			[107, 107, 255],
			[115, 115, 255],
			[123, 123, 255],
			[130, 130, 255],
			[138, 138, 255],
			[146, 146, 255],
			[154, 154, 255],
			[162, 162, 255],
			[169, 169, 255],
			[177, 177, 255],
			[185, 185, 255],
			[193, 193, 255],
			[200, 200, 255],
			[208, 208, 255],
			[216, 216, 255],
			[224, 224, 255],
			[232, 232, 255],
			[239, 239, 255],
			[247, 247, 255],
			[255, 255, 255],
			[255, 255, 255],
			[255, 247, 247],
			[255, 239, 239],
			[255, 232, 232],
			[255, 224, 224],
			[255, 216, 216],
			[255, 208, 208],
			[255, 200, 200],
			[255, 193, 193],
			[255, 185, 185],
			[255, 177, 177],
			[255, 169, 169],
			[255, 162, 162],
			[255, 154, 154],
			[255, 146, 146],
			[255, 138, 138],
			[255, 130, 130],
			[255, 123, 123],
			[255, 115, 115],
			[255, 107, 107],
			[255, 99, 99],
			[255, 91, 91],
			[255, 84, 84],
			[255, 76, 76],
			[255, 68, 68]
		],
		interpolationMethod: 'linear',
		unit: 'hPa'
	},
	rain: {
		min: 0,
		max: 20,
		steps: 20,
		scalefactor: 1,
		colors: [
			[0, 0, 255],
			[0, 112, 223],
			[0, 192, 192],
			[0, 160, 80],
			[0, 128, 0],
			[0, 128, 0],
			[54, 160, 0],
			[130, 192, 0],
			[223, 220, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 147, 0],
			[255, 128, 0],
			[255, 110, 0],
			[255, 92, 0],
			[255, 73, 0],
			[255, 55, 0],
			[255, 37, 0],
			[255, 18, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: 'mm'
	},
	relative: {
		min: 0,
		max: 100,
		steps: 100,
		scalefactor: 1,
		colors: [
			[207, 89, 126],
			[209, 90, 124],
			[211, 92, 122],
			[212, 93, 120],
			[214, 94, 118],
			[216, 96, 116],
			[217, 97, 113],
			[219, 98, 111],
			[221, 100, 109],
			[222, 101, 107],
			[224, 103, 105],
			[225, 106, 105],
			[227, 111, 106],
			[228, 116, 108],
			[229, 122, 110],
			[231, 127, 111],
			[232, 132, 113],
			[232, 132, 113],
			[232, 135, 113],
			[233, 138, 114],
			[233, 141, 114],
			[234, 144, 115],
			[234, 147, 115],
			[234, 150, 116],
			[235, 153, 116],
			[235, 156, 117],
			[235, 159, 117],
			[236, 162, 118],
			[236, 165, 118],
			[237, 168, 119],
			[237, 171, 119],
			[237, 174, 120],
			[238, 177, 120],
			[238, 180, 121],
			[238, 180, 121],
			[238, 184, 123],
			[237, 187, 126],
			[237, 191, 128],
			[236, 194, 130],
			[236, 198, 132],
			[236, 201, 135],
			[235, 204, 137],
			[235, 207, 139],
			[235, 210, 141],
			[234, 212, 143],
			[234, 215, 146],
			[234, 217, 148],
			[234, 220, 150],
			[233, 222, 152],
			[233, 224, 154],
			[233, 226, 156],
			[233, 226, 156],
			[231, 228, 154],
			[229, 230, 153],
			[224, 228, 151],
			[219, 227, 149],
			[213, 225, 148],
			[208, 223, 146],
			[202, 221, 145],
			[197, 220, 143],
			[192, 218, 142],
			[186, 216, 141],
			[181, 214, 140],
			[176, 212, 138],
			[171, 210, 137],
			[166, 207, 136],
			[161, 205, 135],
			[156, 203, 134],
			[156, 203, 134],
			[147, 202, 129],
			[138, 200, 123],
			[128, 199, 117],
			[117, 198, 112],
			[106, 197, 106],
			[100, 195, 106],
			[95, 194, 107],
			[89, 193, 108],
			[83, 192, 110],
			[77, 192, 113],
			[71, 191, 116],
			[65, 190, 120],
			[62, 186, 125],
			[60, 181, 129],
			[57, 177, 133],
			[57, 177, 133],
			[52, 176, 134],
			[47, 175, 134],
			[42, 174, 135],
			[38, 173, 136],
			[33, 172, 138],
			[29, 170, 139],
			[25, 168, 140],
			[21, 166, 141],
			[18, 164, 142],
			[14, 162, 143],
			[11, 159, 144],
			[8, 156, 145],
			[5, 153, 145],
			[2, 150, 146],
			[0, 147, 146]
		],
		interpolationMethod: 'linear',
		unit: '%'
	},
	shortwave: {
		min: 0,
		max: 1000,
		steps: 100,
		scalefactor: 0.1,
		colors: [
			[0, 147, 146],
			[2, 150, 146],
			[5, 153, 145],
			[7, 156, 145],
			[10, 158, 144],
			[13, 161, 143],
			[16, 163, 142],
			[20, 165, 141],
			[23, 167, 140],
			[27, 169, 139],
			[31, 171, 138],
			[35, 172, 137],
			[39, 173, 136],
			[43, 175, 135],
			[48, 176, 134],
			[52, 176, 134],
			[57, 177, 133],
			[57, 177, 133],
			[59, 181, 129],
			[62, 185, 125],
			[64, 189, 121],
			[69, 190, 117],
			[75, 191, 114],
			[81, 192, 111],
			[86, 193, 109],
			[92, 194, 108],
			[97, 195, 107],
			[102, 196, 106],
			[110, 197, 108],
			[120, 198, 113],
			[130, 199, 118],
			[139, 200, 124],
			[148, 202, 129],
			[156, 203, 134],
			[156, 203, 134],
			[161, 205, 135],
			[166, 207, 136],
			[171, 210, 137],
			[176, 212, 138],
			[181, 214, 140],
			[186, 216, 141],
			[192, 218, 142],
			[197, 220, 143],
			[202, 221, 145],
			[208, 223, 146],
			[213, 225, 148],
			[219, 227, 149],
			[224, 228, 151],
			[229, 230, 153],
			[231, 228, 154],
			[233, 226, 156],
			[233, 226, 156],
			[233, 224, 154],
			[233, 222, 152],
			[234, 220, 150],
			[234, 217, 148],
			[234, 215, 146],
			[234, 212, 143],
			[235, 210, 141],
			[235, 207, 139],
			[235, 204, 137],
			[236, 201, 135],
			[236, 198, 132],
			[236, 194, 130],
			[237, 191, 128],
			[237, 187, 126],
			[238, 184, 123],
			[238, 180, 121],
			[238, 180, 121],
			[238, 177, 120],
			[237, 174, 120],
			[237, 171, 119],
			[236, 167, 119],
			[236, 164, 118],
			[236, 161, 118],
			[235, 158, 117],
			[235, 155, 117],
			[234, 151, 116],
			[234, 148, 116],
			[234, 145, 115],
			[233, 142, 115],
			[233, 138, 114],
			[232, 135, 114],
			[232, 132, 113],
			[232, 132, 113],
			[231, 126, 111],
			[229, 121, 109],
			[228, 115, 108],
			[226, 110, 106],
			[225, 104, 104],
			[223, 102, 106],
			[221, 101, 108],
			[220, 99, 110],
			[218, 98, 113],
			[216, 96, 115],
			[214, 95, 117],
			[213, 93, 119],
			[211, 92, 122],
			[209, 90, 124],
			[207, 89, 126]
		],
		interpolationMethod: 'linear',
		unit: 'W/m^2'
	},
	temperature: {
		min: -40,
		max: 60,
		steps: 100,
		scalefactor: 1,
		colors: [
			[128, 0, 128],
			[128, 0, 131],
			[128, 0, 135],
			[127, 0, 138],
			[127, 0, 141],
			[126, 0, 144],
			[125, 0, 148],
			[124, 0, 151],
			[122, 0, 154],
			[121, 0, 157],
			[119, 0, 161],
			[118, 0, 164],
			[116, 0, 167],
			[114, 0, 170],
			[111, 0, 174],
			[109, 0, 177],
			[106, 0, 180],
			[103, 0, 183],
			[100, 0, 187],
			[97, 0, 190],
			[94, 0, 193],
			[91, 0, 196],
			[87, 0, 200],
			[83, 0, 203],
			[79, 0, 206],
			[75, 0, 209],
			[71, 0, 213],
			[66, 0, 216],
			[62, 0, 219],
			[57, 0, 222],
			[52, 0, 226],
			[47, 0, 229],
			[42, 0, 232],
			[36, 0, 235],
			[31, 0, 239],
			[25, 0, 242],
			[19, 0, 245],
			[13, 0, 248],
			[6, 0, 252],
			[0, 0, 255],
			[0, 0, 255],
			[0, 33, 247],
			[0, 63, 238],
			[0, 92, 230],
			[0, 118, 221],
			[0, 142, 213],
			[0, 163, 204],
			[0, 183, 196],
			[0, 187, 175],
			[0, 179, 143],
			[0, 170, 114],
			[0, 162, 86],
			[0, 153, 61],
			[0, 145, 39],
			[0, 136, 18],
			[0, 128, 0],
			[0, 128, 0],
			[17, 140, 0],
			[37, 151, 0],
			[60, 163, 0],
			[86, 174, 0],
			[114, 186, 0],
			[146, 197, 0],
			[180, 209, 0],
			[217, 220, 0],
			[232, 207, 0],
			[243, 187, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 152, 0],
			[255, 140, 0],
			[255, 127, 0],
			[255, 114, 0],
			[255, 102, 0],
			[255, 89, 0],
			[255, 76, 0],
			[255, 63, 0],
			[255, 51, 0],
			[255, 38, 0],
			[255, 25, 0],
			[255, 13, 0],
			[255, 0, 0],
			[255, 0, 0],
			[248, 0, 15],
			[240, 0, 28],
			[233, 0, 41],
			[225, 0, 53],
			[218, 0, 64],
			[210, 0, 74],
			[203, 0, 83],
			[195, 0, 92],
			[188, 0, 99],
			[180, 0, 106],
			[173, 0, 112],
			[165, 0, 117],
			[158, 0, 121],
			[150, 0, 124],
			[143, 0, 126],
			[135, 0, 128],
			[128, 0, 128]
		],
		interpolationMethod: 'linear',
		unit: 'C°'
	},
	thunderstorm: {
		min: 0,
		max: 100,
		steps: 100,
		scalefactor: 1,
		colors: [
			[0, 0, 255],
			[0, 16, 251],
			[0, 31, 247],
			[0, 46, 243],
			[0, 60, 239],
			[0, 73, 235],
			[0, 87, 231],
			[0, 99, 227],
			[0, 112, 223],
			[0, 123, 219],
			[0, 135, 215],
			[0, 145, 211],
			[0, 156, 207],
			[0, 165, 203],
			[0, 175, 199],
			[0, 183, 195],
			[0, 192, 192],
			[0, 188, 176],
			[0, 184, 161],
			[0, 180, 146],
			[0, 176, 132],
			[0, 172, 118],
			[0, 168, 105],
			[0, 164, 92],
			[0, 160, 80],
			[0, 156, 68],
			[0, 152, 57],
			[0, 148, 46],
			[0, 144, 36],
			[0, 140, 26],
			[0, 136, 17],
			[0, 132, 8],
			[0, 128, 0],
			[0, 128, 0],
			[6, 132, 0],
			[11, 136, 0],
			[18, 140, 0],
			[24, 144, 0],
			[31, 148, 0],
			[39, 152, 0],
			[46, 156, 0],
			[54, 160, 0],
			[62, 164, 0],
			[71, 168, 0],
			[80, 172, 0],
			[89, 176, 0],
			[99, 180, 0],
			[109, 184, 0],
			[119, 188, 0],
			[130, 192, 0],
			[140, 195, 0],
			[152, 199, 0],
			[163, 203, 0],
			[175, 207, 0],
			[188, 211, 0],
			[200, 215, 0],
			[213, 219, 0],
			[223, 220, 0],
			[227, 214, 0],
			[231, 208, 0],
			[235, 202, 0],
			[239, 195, 0],
			[243, 188, 0],
			[247, 181, 0],
			[251, 173, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 160, 0],
			[255, 155, 0],
			[255, 150, 0],
			[255, 145, 0],
			[255, 140, 0],
			[255, 135, 0],
			[255, 130, 0],
			[255, 125, 0],
			[255, 120, 0],
			[255, 115, 0],
			[255, 110, 0],
			[255, 105, 0],
			[255, 100, 0],
			[255, 95, 0],
			[255, 90, 0],
			[255, 85, 0],
			[255, 80, 0],
			[255, 75, 0],
			[255, 70, 0],
			[255, 65, 0],
			[255, 60, 0],
			[255, 55, 0],
			[255, 50, 0],
			[255, 45, 0],
			[255, 40, 0],
			[255, 35, 0],
			[255, 30, 0],
			[255, 25, 0],
			[255, 20, 0],
			[255, 15, 0],
			[255, 10, 0],
			[255, 5, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: '%'
	},
	swell: {
		min: 0,
		max: 10,
		steps: 50,
		scalefactor: 5,
		colors: [
			[0, 0, 255],
			[0, 54, 241],
			[0, 101, 227],
			[0, 142, 213],
			[0, 176, 199],
			[0, 184, 164],
			[0, 170, 114],
			[0, 156, 69],
			[0, 142, 32],
			[0, 128, 0],
			[0, 128, 0],
			[10, 135, 0],
			[20, 141, 0],
			[32, 148, 0],
			[44, 155, 0],
			[57, 161, 0],
			[72, 168, 0],
			[87, 175, 0],
			[103, 181, 0],
			[121, 188, 0],
			[139, 195, 0],
			[158, 202, 0],
			[178, 208, 0],
			[199, 215, 0],
			[221, 222, 0],
			[228, 213, 0],
			[235, 202, 0],
			[242, 191, 0],
			[248, 178, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 156, 0],
			[255, 148, 0],
			[255, 139, 0],
			[255, 130, 0],
			[255, 122, 0],
			[255, 113, 0],
			[255, 104, 0],
			[255, 96, 0],
			[255, 87, 0],
			[255, 78, 0],
			[255, 69, 0],
			[255, 61, 0],
			[255, 52, 0],
			[255, 43, 0],
			[255, 35, 0],
			[255, 26, 0],
			[255, 17, 0],
			[255, 9, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: 'm'
	},
	uv: {
		min: 0,
		max: 12,
		steps: 12,
		scalefactor: 1,
		colors: [
			[0, 147, 146],
			[57, 177, 133],
			[57, 177, 133],
			[156, 203, 134],
			[156, 203, 134],
			[233, 226, 156],
			[233, 226, 156],
			[238, 180, 121],
			[238, 180, 121],
			[232, 132, 113],
			[232, 132, 113],
			[207, 89, 126]
		],
		interpolationMethod: 'linear',
		unit: ''
	},
	wave: {
		min: 0,
		max: 10,
		steps: 50,
		scalefactor: 5,
		colors: [
			[0, 0, 255],
			[0, 54, 241],
			[0, 101, 227],
			[0, 142, 213],
			[0, 176, 199],
			[0, 184, 164],
			[0, 170, 114],
			[0, 156, 69],
			[0, 142, 32],
			[0, 128, 0],
			[0, 128, 0],
			[10, 135, 0],
			[20, 141, 0],
			[32, 148, 0],
			[44, 155, 0],
			[57, 161, 0],
			[72, 168, 0],
			[87, 175, 0],
			[103, 181, 0],
			[121, 188, 0],
			[139, 195, 0],
			[158, 202, 0],
			[178, 208, 0],
			[199, 215, 0],
			[221, 222, 0],
			[228, 213, 0],
			[235, 202, 0],
			[242, 191, 0],
			[248, 178, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 156, 0],
			[255, 148, 0],
			[255, 139, 0],
			[255, 130, 0],
			[255, 122, 0],
			[255, 113, 0],
			[255, 104, 0],
			[255, 96, 0],
			[255, 87, 0],
			[255, 78, 0],
			[255, 69, 0],
			[255, 61, 0],
			[255, 52, 0],
			[255, 43, 0],
			[255, 35, 0],
			[255, 26, 0],
			[255, 17, 0],
			[255, 9, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: 'm'
	},
	wind: {
		min: 0,
		max: 70,
		steps: 40,
		scalefactor: 40 / 70,
		colors: [
			[0, 0, 255],
			[0, 54, 241],
			[0, 101, 227],
			[0, 142, 213],
			[0, 176, 199],
			[0, 184, 164],
			[0, 170, 114],
			[0, 156, 69],
			[0, 142, 32],
			[0, 128, 0],
			[0, 128, 0],
			[21, 142, 0],
			[47, 156, 0],
			[77, 170, 0],
			[111, 184, 0],
			[149, 199, 0],
			[192, 213, 0],
			[227, 215, 0],
			[241, 192, 0],
			[255, 165, 0],
			[255, 165, 0],
			[255, 156, 0],
			[255, 148, 0],
			[255, 139, 0],
			[255, 130, 0],
			[255, 122, 0],
			[255, 113, 0],
			[255, 104, 0],
			[255, 96, 0],
			[255, 87, 0],
			[255, 78, 0],
			[255, 69, 0],
			[255, 61, 0],
			[255, 52, 0],
			[255, 43, 0],
			[255, 35, 0],
			[255, 26, 0],
			[255, 17, 0],
			[255, 9, 0],
			[255, 0, 0]
		],
		interpolationMethod: 'linear',
		unit: 'km/h'
	}
};
